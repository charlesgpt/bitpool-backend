(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[52],{4382:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var l=n(9473),i=n(9499),r=n(6154),s=n(381),a=n.n(s),c=n(7294),o=n(9014),d=n(3009),u=n(283),f=n(1577),m=n(6165),h=n(9817),p=n(9269),x=n(5893);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,l)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Z=function(){var e=(0,c.useState)([]),t=e[0],n=e[1],i=(0,l.v9)(function(e){return e.challenge.model});(0,c.useEffect)(function(){r.Z.get("".concat(p.M,"/challenge/index")).then(function(e){n(e.data.models)})},[i]);var s=function(e){o.Z.confirm({title:"Remove",content:"Are you sure to remove the challenge?",onOk:function(){r.Z.delete("".concat(p.M,"/challenge/remove/").concat(e)).then(function(e){e.data.success?(d.Z.success({message:"Success!",description:"The challenge was removed successfully!"}),n(t.filter(function(t){return t._id!==e.data.model._id}))):d.Z.warning({message:"Error!",description:e.data.message})})}})};console.log(t);var g=(0,c.useMemo)(function(){return null==t?void 0:t.map(function(e,t){return j(j({},e),{},{index:t+1,key:t})})},[t]);return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(u.Z,{dataSource:g,columns:[{title:"Id",dataIndex:"index"},{title:"Title",dataIndex:"title"},{title:"Difficalty",dataIndex:"difficalty"},{title:"Streak",dataIndex:"streak"},{title:"Amount",dataIndex:"amount"},{title:"QC",dataIndex:"qc"},{title:"Coin Sku",dataIndex:"coin_sku"},{title:"Status",render:function(e,t){return 1===t.status?"Actived":"Completed"}},{title:"createdAt",dataIndex:"createdAt",render:function(e,t){return a()(e).format("YYYY-MM-DD HH:mm:ss")}},{title:"Action",render:function(e,t){return(0,x.jsx)(f.ZP,{type:"link",onClick:function(){return s(t._id)},children:(0,x.jsx)(m.Z,{style:{fontSize:18,color:"#999"},component:h.Z})})}}]})})},v=n(2640),y=n(3856),b=n(7917),w=n(2578),O=n(2251),C=n(1837),I=function(){var e=(0,l.I0)(),t=y.Z.useForm(),n=(0,v.Z)(t,1)[0],i=(0,l.v9)(function(e){return e.challenge.flag});return(0,c.useEffect)(function(){n.resetFields()},[]),(0,x.jsx)(o.Z,{title:"Add Challenge",width:600,open:i,closable:!1,footer:null,onCancel:function(){n.resetFields(),e(C.V.setModalFlag({flag:!1,model:{}}))},children:(0,x.jsxs)(y.Z,{form:n,initialValues:{difficalty:1,cointype:1},onFinish:function(t){o.Z.confirm({title:"Add Challenge",content:"Are you sure to add new challenge?",onOk:function(){r.Z.post("".concat(p.M,"/challenge/save"),t).then(function(t){t.data.success?(d.Z.success({message:"Success!",description:"New challenge added successfully!"}),e(C.V.setModalFlag({flag:!1,model:{}})),n.resetFields()):d.Z.warning({message:"Error!",description:t.data.message})})}})},style:{marginTop:50},labelCol:{span:4},wrapperCol:{span:20},autoComplete:"off",children:[(0,x.jsx)(y.Z.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Please input title."}],children:(0,x.jsx)(b.Z,{})}),(0,x.jsx)(y.Z.Item,{label:"Difficalty",name:"difficalty",rules:[{required:!0,message:"Please select difficalty."}],children:(0,x.jsxs)(w.Z,{children:[(0,x.jsx)(w.Z.Option,{value:1,children:"Easy"},1),(0,x.jsx)(w.Z.Option,{value:2,children:"Medium"},2),(0,x.jsx)(w.Z.Option,{value:3,children:"Hard"},3)]})}),(0,x.jsx)(y.Z.Item,{label:"Streak",name:"streak",rules:[{required:!0,message:"Please input streak."}],children:(0,x.jsx)(O.Z,{min:0,style:{width:"100%"}})}),(0,x.jsx)(y.Z.Item,{label:"Amount",name:"amount",rules:[{required:!0,message:"Please input amount."}],children:(0,x.jsx)(O.Z,{min:0,style:{width:"100%"}})}),(0,x.jsx)(y.Z.Item,{label:"QC",name:"qc",rules:[{required:!0,message:"Please input QC."}],children:(0,x.jsx)(O.Z,{min:0,style:{width:"100%"}})}),(0,x.jsx)(y.Z.Item,{label:"Coin Type",name:"cointype",rules:[{required:!0,message:"Please select coin type."}],children:(0,x.jsxs)(w.Z,{children:[(0,x.jsx)(w.Z.Option,{value:1,children:"BITP"},1),(0,x.jsx)(w.Z.Option,{value:2,children:"BUSD"},2),(0,x.jsx)(w.Z.Option,{value:3,children:"USDT"},3)]})}),(0,x.jsx)(y.Z.Item,{wrapperCol:{offset:20,span:4},children:(0,x.jsx)(f.ZP,{htmlType:"submit",children:"Submit"})})]})})},P=function(){var e=(0,l.I0)();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"container mx-auto mt-24 px-4 lg:px-0",children:(0,x.jsx)("div",{className:"flex flex-col justify-center items-center relative",children:(0,x.jsxs)("div",{className:"rounded-md border p-10",children:[(0,x.jsxs)("div",{className:"flex flex-row justify-between items-center w-[64rem] border-b p-3",children:[(0,x.jsx)("h2",{className:"text-white text-3xl",children:"Admin Challenge"}),(0,x.jsx)("button",{onClick:function(){e(C.V.setModalFlag({flag:!0,model:{}}))},className:"text-white rounded-md px-4 py-3 bg-violet-500 hover:bg-violet-600 active:bg-violet-700 focus:outline-none focus:ring-violet-300",children:"Admin Challenges"})]}),(0,x.jsx)(Z,{})]})})}),(0,x.jsx)(I,{})]})}},2498:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin-challenge",function(){return n(4382)}])}},function(e){e.O(0,[885,473,14,264,774,888,179],function(){return e(e.s=2498)}),_N_E=e.O()}]);